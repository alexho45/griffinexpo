
<style type="text/css">
table.qr {
  border-width: 0;
  border-style: none;
  border-color: #0000ff;
  border-collapse: collapse;
  }
  td {
   border-width: 0;
   border-style: none;
   border-color: #0000ff;
   border-collapse: collapse;
   padding: 0;
   margin: 0;
   width: 7px;
   height: 7px;
  }
  td.black { background-color: #000; }
  td.white { background-color: #fff; }

  #wrap {
    width:100%;
  }
  #wrap:after {
    content: ".";
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
  }
  #wrap .container {
    float: left;
    width:32%;
    padding-top: 5px;
    padding-bottom: 5px;
    border: 1px solid black;
  }

  .page-break {
    display:block;
    clear:both;
    page-break-after:always;
  }
</style>

<div id="wrap">
  <% badges.each_with_index do |badge, index| %>
    <div class="container">
      <center>
        <b><%= badge[:name] %></b>
        <br>
        <b>(<%= badge[:company_name] %>)</b>
        <br>
        <br>
        <table class="qr">
          <% badge[:qr].modules.each_index do |x| -%>
            <tr>
              <% badge[:qr].modules.each_index do |y| -%>
                <% if badge[:qr].dark?(x,y) -%>
                  <td class="black"/>
                <% else -%>
                  <td class="white"/>
                <% end -%>
              <% end -%>
            </tr>
          <% end -%>
        </table>
      </center>
    </div>
    <% if index != 0 && index%8 == 0 %>
      <p class="page-break">-</p>
    <% end %>
  <% end %>
</div>
